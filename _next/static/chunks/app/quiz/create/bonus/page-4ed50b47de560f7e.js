(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{1549:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});let r=Object.freeze({Black:"#000000",White:"#ffffff",Red:"#FF5D5D",Gray900:"#181818",Gray800:"#171717",Gray700:"#282A2C",Gray600:"#262626",Gray500:"#3D3E3F",Gray400:"#404040",Gray300:"#727272",Gray200:"#8E8E8E",Gray100:"#A3A3A3",Yellow300:"#FBBC04",Yellow200:"#FBDE7E",Yellow100:"#F6EAB9"})},1819:t=>{"use strict";t.exports=JSON.parse('{"y":"http://10.80.163.242:8080"}')},5279:(t,e,n)=>{"use strict";n.d(e,{default:()=>z});var r=n(5933),i=n(5155),s=n(2115),o=n(5695),u=n(4987),a=n(1549),c=n(8718),l=n(5899),d=n(9938);let h=()=>(0,l.n)({mutationFn:async t=>(await d.A.post("/quiz/generate",t)).data});function p(){let t=(0,r._)(["\n  min-height: 100vh;\n  padding: 20px;\n"]);return p=function(){return t},t}function f(){let t=(0,r._)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return f=function(){return t},t}function b(){let t=(0,r._)(["\n  background: none;\n  border: none;\n  color: ",";\n  font-size: 24px;\n  cursor: pointer;\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]);return b=function(){return t},t}function m(){let t=(0,r._)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background-color: ",";\n  object-fit: cover;\n"]);return m=function(){return t},t}function y(){let t=(0,r._)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 200px);\n  margin-top: 30px;\n"]);return y=function(){return t},t}function x(){let t=(0,r._)(["\n  color: ",";\n  font-size: 24px;\n  margin-bottom: 8px;\n  text-align: center;\n"]);return x=function(){return t},t}function g(){let t=(0,r._)(["\n  color: ",";\n  font-size: 16px;\n  margin-bottom: 40px;\n  text-align: center;\n"]);return g=function(){return t},t}function A(){let t=(0,r._)(["\n  width: 100%;\n  position: relative;\n  margin-bottom: 20px;\n"]);return A=function(){return t},t}function v(){let t=(0,r._)(["\n  width: 100%;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid ",";\n  color: ",";\n  font-size: 16px;\n  padding: 8px 0;\n  text-align: center;\n  &:focus {\n    outline: none;\n    border-bottom: 2px solid ",";\n  }\n  &::placeholder {\n    color: ",";\n  }\n"]);return v=function(){return t},t}function k(){let t=(0,r._)(["\n  position: absolute;\n  right: 0;\n  bottom: -20px;\n  color: ",";\n  font-size: 12px;\n"]);return k=function(){return t},t}function C(){let t=(0,r._)(["\n  display: flex;\n  justify-content: space-between;\n"]);return C=function(){return t},t}function w(){let t=(0,r._)(["\n  flex: 1;\n  background-color: ",";\n  color: ",";\n  font-size: 16px;\n  padding: 12px 0;\n  margin-right: 10px;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]);return w=function(){return t},t}function j(){let t=(0,r._)(["\n  flex: 2;\n  background-color: ",";\n  color: ",";\n  font-size: 16px;\n  padding: 12px 0;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]);return j=function(){return t},t}let z=()=>{let t=(0,o.useRouter)(),[e,n]=(0,s.useState)(""),{nickname:r,questions:u,setQuizCode:a}=(0,c.e)(),l=h(),[d,p]=(0,s.useState)(!1),f=()=>{t.push("/quiz/create/q5")};return(0,i.jsxs)(O,{children:[(0,i.jsxs)(E,{children:[(0,i.jsx)(_,{onClick:f,children:"<"}),(0,i.jsx)(G,{src:"/icons/profileIcon.svg",alt:"프로필 아이콘"})]}),(0,i.jsxs)(M,{children:[(0,i.jsx)(q,{children:"마지막으로,"}),(0,i.jsx)(R,{children:"친구들에게 한마디를 남겨주세요!"}),(0,i.jsxs)(S,{children:[(0,i.jsx)(N,{type:"text",value:e,onChange:t=>{t.target.value.length<=50&&n(t.target.value)},placeholder:"예) 우정 온도 100인 친구에게 엽떡 쏜다!",maxLength:50}),(0,i.jsxs)(Q,{children:[e.length,"/50"]})]})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(P,{onClick:f,disabled:d,children:"이전"}),(0,i.jsx)(T,{onClick:()=>{if(!e.trim()){alert("한 마디를 입력해주세요!");return}p(!0),l.mutate({nickname:r,introduction:e,questions:u},{onSuccess:e=>{var n;p(!1),(null===(n=e.data)||void 0===n?void 0:n.code)?(a(e.data.code),t.push("/quiz/create/complete")):alert("퀴즈 생성에 실패했습니다. 다시 시도해주세요.")},onError:t=>{p(!1),alert("퀴즈 생성에 실패했습니다. 다시 시도해주세요.")}})},disabled:d,children:d?"생성 중...":"완료"})]})]})},O=u.Ay.div(p()),E=u.Ay.div(f()),_=u.Ay.button(b(),a.A.White),G=u.Ay.img(m(),a.A.Gray700),M=u.Ay.div(y()),q=u.Ay.h1(x(),a.A.White),R=u.Ay.p(g(),a.A.White),S=u.Ay.div(A()),N=u.Ay.input(v(),a.A.Gray600,a.A.White,a.A.White,a.A.Gray100),Q=u.Ay.span(k(),a.A.Gray400),F=u.Ay.div(C()),P=u.Ay.button(w(),a.A.Gray700,a.A.Gray300),T=u.Ay.button(j(),a.A.Yellow200,a.A.Gray900)},5899:(t,e,n)=>{"use strict";n.d(e,{n:()=>d});var r=n(2115),i=n(4560),s=n(7165),o=n(5910),u=n(2020),a=class extends o.Q{#t;#e=void 0;#n;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,u.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,u.EN)(e.mutationKey)!==(0,u.EN)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(t,e){return this.#r=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){let t=this.#n?.state??(0,i.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#s(t){s.jG.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,n),this.#r.onSettled?.(t.data,null,e,n)):t?.type==="error"&&(this.#r.onError?.(t.error,e,n),this.#r.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(t=>{t(this.#e)})})}},c=n(6715);function l(){}function d(t,e){var n,i;let o=(0,c.jE)(e),[u]=r.useState(()=>new a(o,t));r.useEffect(()=>{u.setOptions(t)},[u,t]);let d=r.useSyncExternalStore(r.useCallback(t=>u.subscribe(s.jG.batchCalls(t)),[u]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),h=r.useCallback((t,e)=>{u.mutate(t,e).catch(l)},[u]);if(d.error&&(n=u.options.throwOnError,i=[d.error],"function"==typeof n?n(...i):!!n))throw d.error;return{...d,mutate:h,mutateAsync:d.mutate}}},8253:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(9971);class i{getCookie(t){return(0,r.getCookie)(t)}setCookie(t,e,n){(0,r.setCookie)(t,e,n)}removeCookie(t){(0,r.deleteCookie)(t)}}let s=new i;var o=n(8989);class u{getToken(t){return s.getCookie(t)}setToken(t,e){s.setCookie(t,e)}clearToken(){s.removeCookie(o.JC),s.removeCookie(o.US)}}let a=new u},8697:(t,e,n)=>{Promise.resolve().then(n.bind(n,5279))},8718:(t,e,n)=>{"use strict";n.d(e,{e:()=>s});var r=n(5453);let i={nickname:"",introduction:"",questions:[,,,,,].fill({question:"",answer:null}),quizCode:null,quizInfo:null,quizQuestions:[],participantAnswers:[,,,,,].fill(null),participantNickname:null},s=(0,r.v)(t=>({...i,setNickname:e=>t({nickname:e}),setIntroduction:e=>t({introduction:e}),setQuestion:(e,n)=>t(t=>({questions:t.questions.map((t,r)=>r===e?{...t,question:n}:t)})),setAnswer:(e,n)=>t(t=>({questions:t.questions.map((t,r)=>r===e?{...t,answer:n}:t)})),setQuizCode:e=>t({quizCode:e}),resetQuiz:()=>t(i),setQuizInfo:e=>t({quizInfo:e}),setQuizQuestions:e=>t({quizQuestions:e}),setParticipantAnswer:(e,n)=>t(t=>{let r=[...t.participantAnswers];return r[e]=n,{participantAnswers:r}}),setParticipantNickname:e=>t({participantNickname:e}),resetParticipantAnswers:()=>t({participantAnswers:[,,,,,].fill(null)})}))},8989:(t,e,n)=>{"use strict";n.d(e,{JC:()=>r,Ks:()=>s,US:()=>i});let r="accessToken",i="refreshToken",s="Authorization"},9938:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(3464),i=n(1819),s=n(8253),o=n(8989);let u={baseURL:i.y,withCredentials:!0},a=r.A.create(u);a.interceptors.request.use(t=>{{var e,n;let r=s.A.getToken(o.JC),i=s.A.getToken(o.US);if((null===(e=t.url)||void 0===e?void 0:e.includes("/auth/signin"))||(null===(n=t.url)||void 0===n?void 0:n.includes("/auth/signup")))return t;r&&i?t.headers[o.Ks]="Bearer ".concat(r):(console.error("Access token or refresh token not found."),window.location.href="/auth/signin")}return t},t=>Promise.reject(t)),a.interceptors.response.use(t=>t,t=>Promise.reject(t));let c=a}},t=>{var e=e=>t(t.s=e);t.O(0,[825,334,144,441,684,358],()=>e(8697)),_N_E=t.O()}]);